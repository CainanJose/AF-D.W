<app-navbar></app-navbar>

<!DOCTYPE html>
<section class="background-radial-gradient overflow-hidden">
    <div class="container px-4 px-md-5 text-center text-lg-start my-1">

      <div class="row gx-lg-5 align-items-center mb-5">
        <div class="col-lg-6 mb-5 mb-lg-0" style="z-index: 10">
          <h1>
            Book Shelf 
          </h1>
          <h2>A sua biblioteca virtual!</h2>
        </div>
  
        <div class="col-lg-6 mb-5 mb-lg-0 position-relative">
          <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
          <div id="radius-shape-2" class="position-absolute shadow-5-strong"></div>
          <div id="radius-shape-3" class="position-absolute shadow-5-strong"></div>

          <div class="card bg-glass">
            <div class="card-body px-4 py-5 px-md-5">
              <div class="text-center">
                <h3>Crie uma nova conta</h3>
              </div>



                  <form [formGroup]="signupForm" (ngSubmit)="onSignup()">
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div data-mdb-input-init class="form-outline">
                          <label class="form-label" for="form3Example1name">Nome</label>
                            <input type="text" id="form3Example1name" class="form-control" formControlName="name" placeholder="Nome" />
                            <div *ngIf="signupForm.get('name')?.invalid && (signupForm.get('name')?.dirty || signupForm.get('name')?.touched)">
                                <div class="text-danger" *ngIf="signupForm.get('name')?.errors?.['required']">Nome é obrigatório</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div data-mdb-input-init class="form-outline">
                          <label class="form-label" for="form3Example1lastname">Sobrenome</label>
                            <input type="text" id="form3Example1lastname" class="form-control" formControlName="lastname" placeholder="Sobrenome" />
                            <div *ngIf="signupForm.get('lastname')?.invalid && (signupForm.get('lastname')?.dirty || signupForm.get('lastname')?.touched)">
                                <div class="text-danger" *ngIf="signupForm.get('lastname')?.errors?.['required']">Sobrenome é obrigatório</div>
                            </div>
                            
                        </div>
                    </div>
                </div>

                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form3Example3">Email</label>
                    <input type="email" id="form3Example3" class="form-control" formControlName="email" placeholder="Email" />
                    <div *ngIf="signupForm.get('email')?.invalid && (signupForm.get('email')?.dirty || signupForm.get('email')?.touched)">
                        <div class="text-danger" *ngIf="signupForm.get('email')?.errors?.['required']">Email é obrigatório</div>
                        <div class="text-danger" *ngIf="signupForm.get('email')?.errors?.['email']">Email inválido</div>
                        <div class="text-danger" *ngIf="signupForm.get('email')?.errors?.['emailNotFound']">Email não encontrado</div>
                    </div>
                   
                </div>

                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form3Example4">Senha</label>
                    <input type="password" id="form3Example4" class="form-control" formControlName="password" placeholder="Senha (entre 6 e 20 caracteres)" />
                    <div *ngIf="signupForm.get('password')?.invalid && (signupForm.get('password')?.dirty || signupForm.get('password')?.touched)">
                        <div class="text-danger" *ngIf="signupForm.get('password')?.errors?.['required']">Senha é obrigatória</div>
                        <div class="text-danger" *ngIf="signupForm.get('password')?.errors?.['minlength'] || signupForm.get('password')?.errors?.['maxlength']">A senha deve ter entre 6 e 20 caracteres</div>
                        <div class="text-danger" *ngIf="signupForm.get('password')?.errors?.['incorrectCredentials']">Email ou senha incorretos</div>
                    </div>
               
                </div>
              
                <div data-mdb-input-init class="form-outline mb-4">
                  <label class="form-label" for="form3Example5">Confirmar senha</label>
                    <input type="password" id="form3Example5" class="form-control" formControlName="confirmPassword" placeholder="Confirmar senha" />
                    <div *ngIf="signupForm.get('confirmPassword')?.invalid && (signupForm.get('confirmPassword')?.dirty || signupForm.get('confirmPassword')?.touched)">
                        <div class="text-danger" *ngIf="signupForm.get('confirmPassword')?.errors?.['required']">Confirmar senha é obrigatório</div>
                        <div class="text-danger" *ngIf="signupForm.get('confirmPassword')?.errors?.['notSame']">As senhas não coincidem</div>
                    </div>
                    
                </div>

                <div class="text-center pt-1 mb-2 pb-1">
                    <button type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-block mb-4" [disabled]="!signupForm.valid">Criar Conta</button>
                    <div *ngIf="signupError" class="alert alert-danger my-1" role="alert">
                        {{errorMessage}}
                    </div>
                </div>
            </form>



            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Section: Design Block -->
  